<!DOCTYPE html>
<!--
  Template Name: map.html
  Programmers: Taylor Wiley and Michael Barney
  Purpose: displays the map containing artifacts, along with information about them when the user clicks on an artifact.
  Languages: amalgamation of HTML, inline CSS and inline Javascript.
  Credit: Modal code from https://www.w3schools.com/howto/howto_css_modals.asp
 -->
<html>
  <head>

    <title>ArchyMap</title>

    <!-- Stylesheet -->
    <style>
      /***********************************************************
      Inline CSS
      ***********************************************************/
      body{
        background-color: #F0DF82
      }
       #map {
        height: 700px;
        width: 70%;
        margin: auto;
      }
      h3 {
        font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        font-size: 36pt;
      }
      ul {
        list-style-type:none;
      }
      #top-banner {
        padding-top: 30px;
        margin: auto;
        
        width: 70%;
        height : 200px;
        text-align: center;
        background-color: #AD550C;
        color: #F0DF82;
      }
       /* The Modal (background) */
      .modal {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 1; /* Sit on top */
          left: 0;
          top: 0;
          width: 100%; /* Full width */
          height: 100%; /* Full height */
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }

      /* Modal Content/Box */
      .modal-content {
          background-color: rgba(233, 219, 142, 0.86);
          margin: 15% auto; /* 15% from the top and centered */
          padding: 20px;
          border: 1px solid #888;
          width: 80%; /* Could be more or less, depending on screen size */
      }

      /* The Close Button */
      .close {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
      }

      .close:hover,
      .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
      } 

    </style>

  </head>

  <body>
   
    <div id="top-banner">
      <h3>ArchyMap</h3>
    </div>
     
    <div id="myModal" class="modal">
      
        <!-- Modal content -->
        <div class="modal-content">
          <span class="close">&times;</span>
          <p><li>
            <ul>
              Name:
            </ul>
            <ul>
              Site Number:
            </ul>
            <ul>
              State:
            </ul>
            <ul>
              County:
            </ul>
            <ul>
              Description:
            </ul>
          </li></p>
        </div>
      
      </div>
    
    <div id="map"></div>

    <script id = "mapscript"> 
      /**********************************************************
      Script Name: mapscript
      Purpose: to render the map using the Google Maps API
      Programmer: Michael Barney
      **********************************************************/
      var artifacts = []
      artifacts.push({lat: 41, lng: -85})
      artifacts.push({lat: 42, lng: -85})
      artifacts.push({lat: 43, lng: -85})
      artifacts.push({lat: 44, lng: -85})

      function initMap() {
        var uluru = {lat: 40, lng: -86};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 6,
          center: uluru,
          streetViewControl: false
        });

        //render the makers
        for (var i = 0; i < artifacts.length; i++) {
          var marker = new google.maps.Marker({
            position: artifacts[i],
            map: map,});
        }

        //Is there a way to have the modal pop up when a marker is clicked?

        // Get the modal
        var modal = document.getElementById('myModal');
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        } 
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDN43GXaDBm0mv0A14f4tCy-6IuSUpncEY&callback=initMap">
    </script>
  </body>
</html>